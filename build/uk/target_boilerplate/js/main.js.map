{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/components/popUpContent.js","src/js/main.js"],"names":[],"mappings":"AAAA;oLCAqB,gFACnB,sBAGE,IAAM,EAAA,mlDAuBF,EAAgB,EAAE,sCAEtB,SAAS,KAAK,SAAS,EAAc,KAAO,EAAE,QAAQ,OAAO,GAAgC,EAAc,KAAK,GAEhH,EAAE,8BAA8B,GAAG,QAAS,SAAS,GACnD,EAAE,iBACF,EAAE,mBAAmB,WAGvB,EAAE,oCAAoC,GAAG,QAAS,SAAS,GACzD,EAAE,mBAAmB,iCArCN;;;aCSrB,IAAA,cAAA,QAAA,0JAEA,IAAI,YAAc,gBAElB,YAAY,kBAAqB,WAIhC,IAAI,GAQH,KAAM,WACL,EAAK,uBAON,oBAAqB,WACpB,IAAI,EAAQ,KAEZ,QAAQ,IAAI,6BAEZ,WAAW,WACN,OAAO,GACV,QAAQ,IAAI,uCACZ,EAAK,iBACL,EAAK,sBASL,QAAQ,IAAI,aACZ,EAAM,wBAEL,MAOJ,eAAgB,WAQf,IAKI,EAAQ,SAAS,MAAQ,SAAS,qBAAqB,QAAQ,GAClE,EAAS,SAAS,cAAc,SAEjC,EAAO,KAAO,WACV,EAAO,WACV,EAAO,WAAW,QAVR,UAYV,EAAO,YAAY,SAAS,eAZlB,YAcX,EAAM,YAAY,IAQnB,kBAAmB,WAElB,QAAQ,IAAI,2BAGZ,IAAM,GAEL,iBACA,iBACA,iBACA,iBACA,iBACA,iBAEA,iBACA,iBACA,iBACA,iBAEA,iBACA,iBACA,iBAEA,iBACA,iBACA,iBACA,iBAEA,iBACA,iBACA,iBAEA,iBACA,kBAMG,EAAe,SAAS,EAAE,0BAA0B,OAAO,OAAO,QAAQ,UAAW,KAGrF,EAAiB,GAGrB,QAAQ,GACJ,KAAK,GAAgB,KAAO,GAAgB,IAC3C,EAAA,kOAIA,MACD,QACC,EAAA,mOAQL,IAAM,EAAA,+9BAsBD,EAtBC,6CA4BA,EAAK,yBAGX,IAAI,EAAmB,EAgBvB,GAdA,EAAE,cAAc,KAAK,SAAU,EAAO,GAErC,GAAI,EAAa,OAAO,SAAC,GAAD,OAAU,EAAQ,cAAc,mBAAmB,UAAU,SAAS,KAAO,OAI3F,OADT,GAAoC,GACpB,IAQd,EAAmB,GAGc,GAAhC,EAAE,oBAAoB,OAAa,CACtC,IAAI,EAAkB,EAAE,gCACxB,SAAS,KAAK,SAAS,EAAgB,KAAO,EAAG,GAAkB,YAAa,mBAAqB,GAAmB,EAAgB,KAAK,GAC7I,EAAK,UAAU,iBACf,EAAK,UAAU,uBACf,EAAK,qBAcP,EAAK,cAIN,uBAAwB,WAEvB,EAAE,oBAAoB,SACtB,EAAE,sBAAsB,UAQzB,UAAW,WAAoB,IAAV,EAAU,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAJ,GAI1B,OAFA,QAAQ,IAAI,oBAAsB,GAE1B,GACP,IAAK,gBAEJ,EAAE,uBAAuB,GAAG,QAAS,SAAS,GAC7C,EAAE,kBACmB,IAAI,eAAA,SACZ,eAEd,MAED,IAAK,sBAOJ,EAAE,0BAA0B,GAAG,qBAAsB,WAClD,EAAK,wBAYX,aAAc,WAEb,WAAW,WACV,EAAE,QAAQ,SACV,QAAQ,IAAI,mBACV,MAGJ,mBAAoB,WACnB,IAAI,EAAA,okDAOA,EAAQ,EAAE,6DACd,SAAS,KAAK,SAAS,EAAM,KAAO,EAAE,+BAA+B,OAAO,GAAwB,EAAM,KAAK,IAIhH,WAAa,WAQY,SAAS,iBAAiB,uBAElC,QAAQ,SAAC,IAR1B,SAAiB,EAAI,GACnB,IAAI,IAAI,KAAO,EACb,EAAG,aAAa,EAAK,EAAM,IAQ7B,CAAQ,GACP,iBAAoB,YACpB,YAAA,2DACA,QAAoB,uBACpB,QAAoB,YACpB,QAAA,2CAOJ,OACC,KAAM,GA/SyB,GAoTjC,YAAY,kBAAkB,KAAK","file":"main.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export default class PopUpContent {\n  addContent() {\n    \n    \n    const popupContent= `\n            <div class=\"delivery-popup__dimmed\"></div>\n            <div class=\"delivery-popup-wrap\">\n              <div class=\"delivery-popup-layer popup\">\n                 <div class=\"delivery-popup-inner popup-inner\">\n                    <button class=\"close-btn\"></button>\n                    <div class=\"Container  Container--mobile-margins\">\n\n                       <h4 class=\"title\">Free next day delivery</h1>\n                       <p class=\"txt\">All items are eligible for free next day delivery (not at a specified time) to mainland UK, 7 days a week.</p>\n\n                       <h4 class=\"title\">Free scheduled day delivery</h1>\n                       <p class=\"txt\">Choose the day (but not the time) your delivery arrives, Monday to Saturday, free of charge.</p>\n\n                       <h4 class=\"title\">Free returns within 21 days</h1>\n                       <p class=\"txt\">You may return your products for any reason within 21 days of delivery. Visit the Shop FAQs for more information about returning a product.</p>\n                       <p class=\"txt\">Further delivery, installation, and recycling options are available when you check out. <a href=\"https://www.samsung.com/uk/shop-faq/delivery-and-installations/\" target=\"_blank\" id=\"leanr-more-link\" class='link' data-omni-type=\"microsite\" data-omni=\"simple buying tool:delivery popup:learn more\" data-an-tr=\"order-qualifies-info:delivery-popup\" data-an-la=\"simple buying tool:delivery popup:learn more\">Learn more</a></p>\n                    </div>\n                 </div>\n              </div>\n            </div>\n        `;\n\n    let deliveryPopup = $(\"<div class='delivery-popup'></div>\");\n\n    document.body.contains(deliveryPopup[0]) || $('body').append(deliveryPopup), popupContent && deliveryPopup.html(popupContent);\n\n    $('.delivery-popup .close-btn').on('click', function(e){\n      e.preventDefault();\n      $('.delivery-popup').remove();\n    });\n\n    $('.delivery-popup #leanr-more-link').on('click', function(e){\n      $('.delivery-popup').remove();\n    });\n\n  }\n\n\n  \n\n}","// ==========================================================================\n//  This is a boilerplate to use for target activities\n//\n//\tURL example: add in url of project for visibility here\n// ==========================================================================\n\n// ==========================================================================\n// Scripts, helper widgets - import below\n// ==========================================================================\nimport PopUpContent from \"./components/popUpContent\";\n\nvar cheillondon = cheillondon || {};\n\ncheillondon.targetBoilerplate = (function () {\n\n\t'use strict';\n\n\tvar main = {\n\n\t\t// ==========================================================================\n\t\t// Variables and config Properties add below\n\t\t// ==========================================================================\n\n\n\t\t//Init\n\t\tinit: function () {\n\t\t\tmain.doEverythingTimeout();\n\t\t},\n\n\n\t\t// ==========================================================================\n\t\t// Checking jQuery\n\t\t// ==========================================================================\n\t\tdoEverythingTimeout: function () {\n\t\t\tvar _self = this;\n\n\t\t\tconsole.log('XXX - doEverythingTimeout');\n\n\t\t\tsetTimeout(function () {\n\t\t\t\tif (window.$) {\n\t\t\t\t\tconsole.log('doEverythingTimeout - jQuery loaded');\n\t\t\t\t\tmain.appendNewStyle();\n\t\t\t\t\tmain.addRemoveElements();\n\n\n\t\t\t\t\t/*main.tweakElements();\n\n\t\t\t\t\tmain.insureButtons();\n\t\t\t\t\tmain.freeInsurance();*/\n\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('no jquery')\n\t\t\t\t\t_self.doEverythingTimeout();\n\t\t\t\t}\n\t\t\t}, 900)\n\t\t},\n\n\n\t\t// ==========================================================================\n\t\t// Adding style\n\t\t// ==========================================================================\n\t\tappendNewStyle: function () {\n\n\t\t\t/* FYI: the CSS code is in separated file, in SCSS format that generates the CSS file. After, the gulp file finds the [CSS] and replaces with minified code from file */\n\n\t\t\t//To insert minified inline string uncomment this variable and paste here\n\t\t\t//Else, use default uncommented variable\n\t\t\t// var _css = '';\n\n\t\t\tvar _css = '[[CSS]]';\n\n\t\t\t//\n\t\t\t// Adding style definitions to DOM\n\t\t\t// --------------------------------------------------------------------------\n\t\t\tvar _head = document.head || document.getElementsByTagName('head')[0],\n\t\t\t\t_style = document.createElement('style');\n\n\t\t\t_style.type = 'text/css';\n\t\t\tif (_style.styleSheet) { // This is required for IE8 and below.\n\t\t\t\t_style.styleSheet.cssText = _css;\n\t\t\t} else {\n\t\t\t\t_style.appendChild(document.createTextNode(_css));\n\t\t\t}\n\t\t\t_head.appendChild(_style);\n\n\t\t},\n\n\n\t\t// ==========================================================================\n\t\t// When page is already loaded we need to add the new elements\n\t\t// ==========================================================================\n\t\taddRemoveElements: function () {\n\n\t\t\tconsole.log('XXX - addRemoveElements');\n\n\n\t\t\tconst eligibleSkus = [\n\n\t\t\t\t\"SM-G990BLVDEUA\",\n\t\t\t\t\"SM-G990BLVGEUA\",\n\t\t\t\t\"SM-G990BZWDEUA\",\n\t\t\t\t\"SM-G990BZAGEUA\",\n\t\t\t\t\"SM-G990BLGGEUA\",\n\t\t\t\t\"SM-G990BZWGEUA\",\n\n\t\t\t\t\"SM-A528BLVCEUA\",\n\t\t\t\t\"SM-A528BZKCEUA\",\n\t\t\t\t\"SM-A528BZWCEUA\",\n\t\t\t\t\"SM-A528BLGCEUA\",\n\n\t\t\t\t\"SM-A536BZKNEUB\",\n\t\t\t\t\"SM-A536BLBNEUB\",\n\t\t\t\t\"SM-A536BZONEUB\",\n\n\t\t\t\t\"SM-A336BLBGEUB\",\n\t\t\t\t\"SM-A336BZKGEUB\",\n\t\t\t\t\"SM-A336BZWGEUB\",\n\t\t\t\t\"SM-A336BZOGEUB\",\n\n\t\t\t\t\"SM-R870NZKAEUA\",\n\t\t\t\t\"SM-R870NZGAEUA\",\n\t\t\t\t\"SM-R870NZSAEUA\",\n\n\t\t\t\t\"SM-R890NZKAEUA\",\n\t\t\t\t\"SM-R890NZSAEUA\",\n\t\t\t];\n\n\n\n\t\t\t/** Take the product price Total amount from Cart **/\n\t\t\tlet productPrice = parseInt($('.summary-total__amount').text().trim().replace(/\\u00A3/g, ''));\n\n\n\t\t\tlet financeContent = '';\n\n\t\t\t/** Showing different finance details for the product price in between 150 to 250 and  250 and above **/\n\t\t\tswitch (true) {\n\t\t\t\t\t\t\tcase productPrice >= 150 && productPrice <= 250:\n\t\t\t\t\t\t\t\tfinanceContent = `\n\t\t\t\t\t\t\t\t\t<div class=\"title\">Discover a new way to pay with Samsung Finance</div>\n\t\t\t\t\t\t\t\t\t<div class=\"txt\">Spread the cost of your order over 12 months at 0% APR representative.*</div>\n\t\t\t\t\t\t\t\t`;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tfinanceContent = `\n\t\t\t\t\t\t\t\t\t<div class=\"title\">Flexible ways to pay with Samsung Finance</div>\n\t\t\t\t\t\t\t\t\t<div class=\"txt\">Spread the cost of your order over 12 to 36 months at 0% APR representative.*</div>\n\t\t\t\t\t\t\t\t`;\n\t\t\t}\n\n\n\n\t\t\tconst deliveryContent= `\n\t\t\t\t<div class=\"delivery-info-wrapp\">\n\t\t\t\t\t<div class=\"delivery-info\">\n\t\t\t\t\t\t<div class=\"title\">Your order qualifies for:</div>\n\t\t\t\t\t\t<div class=\"info-list\">\n\t\t\t\t\t\t\t<div class=\"txt\">Next day delivery (<a href=\"#\" class=\"delivey-popup-link\">More info</a>) </div>\n\t\t\t\t\t\t\t<div class=\"price\">FREE</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"info-list\">\n\t\t\t\t\t\t\t<div class=\"txt\">Scheduled day delivery</div>\n\t\t\t\t\t\t\t<div class=\"price\">FREE</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"info-list\">\n\t\t\t\t\t\t\t<div class=\"txt\">21-day returns (<a href=\"#\" class=\"delivey-popup-link\">More info</a>)</div>\n\t\t\t\t\t\t\t<div class=\"price\">FREE</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"info-list\">\n\t\t\t\t\t\t\t<div class=\"txt\">Further delivery, installation, and recycling options are available when you check out.</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div class=\"finance-info\">\n\t\t\t\t\t\t${financeContent}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;\n\n\t\t\t// Remove already added delivery elements first\n\t        main.removeDeliveryElements();\n\n\n\t\t\tlet noOfEligibleSkus = 0;\n\n\t\t\t$(\".cart-item\").each(function (index, element) {\n\n\t\t\t\tif (eligibleSkus.filter((sku) => (element.querySelector(\".cart-item__sku\").innerText.includes(sku))).length) {\n\t\t\t\t\t//If sku matches the eligible Sku list\n\n\t\t\t\t\tnoOfEligibleSkus = noOfEligibleSkus+1;\n            \t\treturn false; // to break the loop\n\n            \t}\n\n\n\t\t\t});\n\n\n\t\t\tif (noOfEligibleSkus > 0) {\n\n\t\t\t\t/** Ensure that no Delivery details div already added to the cart **/\n\t\t\t\tif ($('#DeliveryDetails').length == 0) {\n\t\t\t\t\tlet deliveryDetails = $(\"<p id='DeliveryDetails'></p>\");\n\t\t\t\t\tdocument.body.contains(deliveryDetails[0]) || $( deliveryDetails ).insertAfter( \"cx-cart-details\" ), deliveryContent && deliveryDetails.html(deliveryContent);\n\t\t\t\t\tmain.setEvents('deliveryPopup'); // More info link clicked to view delivery popup\n\t\t\t\t\tmain.setEvents('itemRemovedFromCart'); // If a Item removed from cart\n\t\t\t\t\tmain.processTermsFooter();\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/*else {\n\t\t\t\t *Remove deleivery details when there is no eligible products in the cart *\n\t\t\t\t$('#DeliveryDetails').remove();\n\t\t\t\t$('#TradeInConditions').remove();\n\n\t\t\t}*/\n\n\n\t\t\t//this will add in tagging\n\t\t\tmain.addTagging();\n\t\t},\n\n\n\t\tremoveDeliveryElements: function() {\n\n\t\t\t$('#DeliveryDetails').remove();\n\t\t\t$('#TradeInConditions').remove();\n\n\t\t},\n\n\n\t\t// ==========================================================================\n\t\t// Set Events\n\t\t// ==========================================================================\n\t\tsetEvents: function (elm = '') {\n\n\t\t\tconsole.log('XXX - setEvents: ' + elm);\n\n\t\t\tswitch (elm) {\n\t\t\t\tcase 'deliveryPopup':\n\t\t\t\t\t//code to open delivery popup;\n\t\t\t\t\t$('.delivey-popup-link').on('click', function(e){\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tconst popUpContent = new PopUpContent();\n\t\t\t\t\t\tpopUpContent.addContent();\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'itemRemovedFromCart':\n\n\t\t\t\t\t/*$('.cart-item__remove--btn').on('click', function(){\n\t\t\t\t\t\tmain.addRemoveElements();\n\t\t\t\t\t});*/\n\n\t\t\t\t\t/** If the cart total order value changes and addRemoveElements method is called to update delivery details**/\n\t\t\t\t\t$('.summary-total__amount').on('DOMSubtreeModified', function(){\n\t\t\t\t\t  \tmain.addRemoveElements();\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\n\n\t\t},\n\n\t\tresizeWindow: function () {\n\t\t\t// as new elements added to panel we need to resize window to activate amend height of Product Panels\n\t\t\tsetTimeout(function () {\n\t\t\t\t$(window).resize();\n\t\t\t\tconsole.log('window resized');\n\t\t\t}, 100);\n\t\t},\n\n\t\tprocessTermsFooter: function () {\n\t\t\tlet termsContent = `\n\t\t\t\t<div class=\"title\">Terms and conditions</div>\n    \t\t\t<p class=\"txt\">*All credit is subject to status and only available to UK residents over 18, with a UK Bank account and valid driver’s license, passport, or identity card. Credit duration is variable, and you could be offered credit at a higher rate than the representative APR set out above based on your personal financial circumstances and what you tell us. For smaller baskets of between £150 and £250 a minimum upfront payment of 20% is required and 12 months fixed monthly payments. For loans above £250, a 10% deposit is required and up to 36 months of fixed monthly payments. By accepting our credit you consent to a credit check being completed which will appear on your credit file.</p>\n    \t\t\t<div class=\"title\">Samsung Finance</div>\n    \t\t\t<p class=\"txt\">Samsung Electronics (UK) Limited (Registered no: 03086621), registered at Samsung House, 2000 Hillswood Drive, Chertsey, Surrey KT16 0RS, United Kingdom, acts as a credit broker and not as a lender. Samsung is authorised and regulated by the Financial Conduct Authority (FRN 727333). Credit is provided by Glow Financial Services Limited, 71 Queen Victoria Street, London EC4V 4BE. Registered in England No. 09127663. Glow Financial Services Limited is authorised and regulated by the Financial Conduct Authority (Reference No. 751308). Glow Financial Services acting as lender, under brand license as Samsung Finance (powered by Glow) through Samsung Electronics (UK) Limited. The Financial Services Register can be accessed through www.fca.org.uk</p>\n\t\t\t`;\n\n\t\t\tlet Terms = $(\"<div id='TradeInConditions' class='delivery-terms'></div>\");\n\t\t\tdocument.body.contains(Terms[0]) || $(\".TermsConditionsSlotContent\").append(Terms), termsContent && Terms.html(termsContent);\n\n\t\t},\n\n\t\taddTagging : function () {\n\n\t\tfunction tagging(el, attrs) {\n    for(let key in attrs) {\n      el.setAttribute(key, attrs[key]);\n    }\n  }\n\n\t\tconst moreInfoElements = document.querySelectorAll('.delivey-popup-link');\n\n\t\tmoreInfoElements.forEach((moreInfoBtns) => {\n\n\t\t\t\ttagging(moreInfoBtns,\n\t\t\t{ \"data-omni-type\"  : \"microsite\",\n\t\t\t\t\t\"data-omni\"       : `uk:simple buying tool:your order qualifies for:more info`,\n\t\t\t\t\t\"ga-ac\"           : \"order-qualifies-info\",\n\t\t\t\t\t\"ga-ca\"           : \"more info\",\n\t\t\t\t\t\"ga-la\"           : `your order qualifies for:more info`\n\t\t\t})\n\t\t})\n\t\t}\n\n\n\t};\n\treturn {\n\t\tmain: main\n\t};\n\n})();\n\ncheillondon.targetBoilerplate.main.init();\n\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvY29tcG9uZW50cy9wb3BVcENvbnRlbnQuanMiLCJzcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvTENBcUIsZ0ZBQ25CLHNCQUdFLElBQU0sRUFBQSxtbERBdUJGLEVBQWdCLEVBQUUsc0NBRXRCLFNBQVMsS0FBSyxTQUFTLEVBQWMsS0FBTyxFQUFFLFFBQVEsT0FBTyxHQUFnQyxFQUFjLEtBQUssR0FFaEgsRUFBRSw4QkFBOEIsR0FBRyxRQUFTLFNBQVMsR0FDbkQsRUFBRSxpQkFDRixFQUFFLG1CQUFtQixXQUd2QixFQUFFLG9DQUFvQyxHQUFHLFFBQVMsU0FBUyxHQUN6RCxFQUFFLG1CQUFtQixpQ0FyQ047OzthQ1NyQixJQUFBLGNBQUEsUUFBQSwwSkFFQSxJQUFJLFlBQWMsZ0JBRWxCLFlBQVksa0JBQXFCLFdBSWhDLElBQUksR0FRSCxLQUFNLFdBQ0wsRUFBSyx1QkFPTixvQkFBcUIsV0FDcEIsSUFBSSxFQUFRLEtBRVosUUFBUSxJQUFJLDZCQUVaLFdBQVcsV0FDTixPQUFPLEdBQ1YsUUFBUSxJQUFJLHVDQUNaLEVBQUssaUJBQ0wsRUFBSyxzQkFTTCxRQUFRLElBQUksYUFDWixFQUFNLHdCQUVMLE1BT0osZUFBZ0IsV0FRZixJQUtJLEVBQVEsU0FBUyxNQUFRLFNBQVMscUJBQXFCLFFBQVEsR0FDbEUsRUFBUyxTQUFTLGNBQWMsU0FFakMsRUFBTyxLQUFPLFdBQ1YsRUFBTyxXQUNWLEVBQU8sV0FBVyxRQVZSLFVBWVYsRUFBTyxZQUFZLFNBQVMsZUFabEIsWUFjWCxFQUFNLFlBQVksSUFRbkIsa0JBQW1CLFdBRWxCLFFBQVEsSUFBSSwyQkFHWixJQUFNLEdBRUwsaUJBQ0EsaUJBQ0EsaUJBQ0EsaUJBQ0EsaUJBQ0EsaUJBRUEsaUJBQ0EsaUJBQ0EsaUJBQ0EsaUJBRUEsaUJBQ0EsaUJBQ0EsaUJBRUEsaUJBQ0EsaUJBQ0EsaUJBQ0EsaUJBRUEsaUJBQ0EsaUJBQ0EsaUJBRUEsaUJBQ0Esa0JBTUcsRUFBZSxTQUFTLEVBQUUsMEJBQTBCLE9BQU8sT0FBTyxRQUFRLFVBQVcsS0FHckYsRUFBaUIsR0FHckIsUUFBUSxHQUNKLEtBQUssR0FBZ0IsS0FBTyxHQUFnQixJQUMzQyxFQUFBLGtPQUlBLE1BQ0QsUUFDQyxFQUFBLG1PQVFMLElBQU0sRUFBQSwrOUJBc0JELEVBdEJDLDZDQTRCQSxFQUFLLHlCQUdYLElBQUksRUFBbUIsRUFnQnZCLEdBZEEsRUFBRSxjQUFjLEtBQUssU0FBVSxFQUFPLEdBRXJDLEdBQUksRUFBYSxPQUFPLFNBQUMsR0FBRCxPQUFVLEVBQVEsY0FBYyxtQkFBbUIsVUFBVSxTQUFTLEtBQU8sT0FJM0YsT0FEVCxHQUFvQyxHQUNwQixJQVFkLEVBQW1CLEdBR2MsR0FBaEMsRUFBRSxvQkFBb0IsT0FBYSxDQUN0QyxJQUFJLEVBQWtCLEVBQUUsZ0NBQ3hCLFNBQVMsS0FBSyxTQUFTLEVBQWdCLEtBQU8sRUFBRyxHQUFrQixZQUFhLG1CQUFxQixHQUFtQixFQUFnQixLQUFLLEdBQzdJLEVBQUssVUFBVSxpQkFDZixFQUFLLFVBQVUsdUJBQ2YsRUFBSyxxQkFjUCxFQUFLLGNBSU4sdUJBQXdCLFdBRXZCLEVBQUUsb0JBQW9CLFNBQ3RCLEVBQUUsc0JBQXNCLFVBUXpCLFVBQVcsV0FBb0IsSUFBVixFQUFVLFVBQUEsT0FBQSxRQUFBLElBQUEsVUFBQSxHQUFBLFVBQUEsR0FBSixHQUkxQixPQUZBLFFBQVEsSUFBSSxvQkFBc0IsR0FFMUIsR0FDUCxJQUFLLGdCQUVKLEVBQUUsdUJBQXVCLEdBQUcsUUFBUyxTQUFTLEdBQzdDLEVBQUUsa0JBQ21CLElBQUksZUFBQSxTQUNaLGVBRWQsTUFFRCxJQUFLLHNCQU9KLEVBQUUsMEJBQTBCLEdBQUcscUJBQXNCLFdBQ2xELEVBQUssd0JBWVgsYUFBYyxXQUViLFdBQVcsV0FDVixFQUFFLFFBQVEsU0FDVixRQUFRLElBQUksbUJBQ1YsTUFHSixtQkFBb0IsV0FDbkIsSUFBSSxFQUFBLG9rREFPQSxFQUFRLEVBQUUsNkRBQ2QsU0FBUyxLQUFLLFNBQVMsRUFBTSxLQUFPLEVBQUUsK0JBQStCLE9BQU8sR0FBd0IsRUFBTSxLQUFLLElBSWhILFdBQWEsV0FRWSxTQUFTLGlCQUFpQix1QkFFbEMsUUFBUSxTQUFDLElBUjFCLFNBQWlCLEVBQUksR0FDbkIsSUFBSSxJQUFJLEtBQU8sRUFDYixFQUFHLGFBQWEsRUFBSyxFQUFNLElBUTdCLENBQVEsR0FDUCxpQkFBb0IsWUFDcEIsWUFBQSwyREFDQSxRQUFvQix1QkFDcEIsUUFBb0IsWUFDcEIsUUFBQSwyQ0FPSixPQUNDLEtBQU0sR0EvU3lCLEdBb1RqQyxZQUFZLGtCQUFrQixLQUFLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wVXBDb250ZW50IHtcbiAgYWRkQ29udGVudCgpIHtcbiAgICBcbiAgICBcbiAgICBjb25zdCBwb3B1cENvbnRlbnQ9IGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkZWxpdmVyeS1wb3B1cF9fZGltbWVkXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVsaXZlcnktcG9wdXAtd3JhcFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZGVsaXZlcnktcG9wdXAtbGF5ZXIgcG9wdXBcIj5cbiAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRlbGl2ZXJ5LXBvcHVwLWlubmVyIHBvcHVwLWlubmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjbG9zZS1idG5cIj48L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIkNvbnRhaW5lciAgQ29udGFpbmVyLS1tb2JpbGUtbWFyZ2luc1wiPlxuXG4gICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRpdGxlXCI+RnJlZSBuZXh0IGRheSBkZWxpdmVyeTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidHh0XCI+QWxsIGl0ZW1zIGFyZSBlbGlnaWJsZSBmb3IgZnJlZSBuZXh0IGRheSBkZWxpdmVyeSAobm90IGF0IGEgc3BlY2lmaWVkIHRpbWUpIHRvIG1haW5sYW5kIFVLLCA3IGRheXMgYSB3ZWVrLjwvcD5cblxuICAgICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0aXRsZVwiPkZyZWUgc2NoZWR1bGVkIGRheSBkZWxpdmVyeTwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidHh0XCI+Q2hvb3NlIHRoZSBkYXkgKGJ1dCBub3QgdGhlIHRpbWUpIHlvdXIgZGVsaXZlcnkgYXJyaXZlcywgTW9uZGF5IHRvIFNhdHVyZGF5LCBmcmVlIG9mIGNoYXJnZS48L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGl0bGVcIj5GcmVlIHJldHVybnMgd2l0aGluIDIxIGRheXM8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInR4dFwiPllvdSBtYXkgcmV0dXJuIHlvdXIgcHJvZHVjdHMgZm9yIGFueSByZWFzb24gd2l0aGluIDIxIGRheXMgb2YgZGVsaXZlcnkuIFZpc2l0IHRoZSBTaG9wIEZBUXMgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgcmV0dXJuaW5nIGEgcHJvZHVjdC48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwidHh0XCI+RnVydGhlciBkZWxpdmVyeSwgaW5zdGFsbGF0aW9uLCBhbmQgcmVjeWNsaW5nIG9wdGlvbnMgYXJlIGF2YWlsYWJsZSB3aGVuIHlvdSBjaGVjayBvdXQuIDxhIGhyZWY9XCJodHRwczovL3d3dy5zYW1zdW5nLmNvbS91ay9zaG9wLWZhcS9kZWxpdmVyeS1hbmQtaW5zdGFsbGF0aW9ucy9cIiB0YXJnZXQ9XCJfYmxhbmtcIiBpZD1cImxlYW5yLW1vcmUtbGlua1wiIGNsYXNzPSdsaW5rJyBkYXRhLW9tbmktdHlwZT1cIm1pY3Jvc2l0ZVwiIGRhdGEtb21uaT1cInNpbXBsZSBidXlpbmcgdG9vbDpkZWxpdmVyeSBwb3B1cDpsZWFybiBtb3JlXCIgZGF0YS1hbi10cj1cIm9yZGVyLXF1YWxpZmllcy1pbmZvOmRlbGl2ZXJ5LXBvcHVwXCIgZGF0YS1hbi1sYT1cInNpbXBsZSBidXlpbmcgdG9vbDpkZWxpdmVyeSBwb3B1cDpsZWFybiBtb3JlXCI+TGVhcm4gbW9yZTwvYT48L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgYDtcblxuICAgIGxldCBkZWxpdmVyeVBvcHVwID0gJChcIjxkaXYgY2xhc3M9J2RlbGl2ZXJ5LXBvcHVwJz48L2Rpdj5cIik7XG5cbiAgICBkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGRlbGl2ZXJ5UG9wdXBbMF0pIHx8ICQoJ2JvZHknKS5hcHBlbmQoZGVsaXZlcnlQb3B1cCksIHBvcHVwQ29udGVudCAmJiBkZWxpdmVyeVBvcHVwLmh0bWwocG9wdXBDb250ZW50KTtcblxuICAgICQoJy5kZWxpdmVyeS1wb3B1cCAuY2xvc2UtYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAkKCcuZGVsaXZlcnktcG9wdXAnKS5yZW1vdmUoKTtcbiAgICB9KTtcblxuICAgICQoJy5kZWxpdmVyeS1wb3B1cCAjbGVhbnItbW9yZS1saW5rJykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7XG4gICAgICAkKCcuZGVsaXZlcnktcG9wdXAnKS5yZW1vdmUoKTtcbiAgICB9KTtcblxuICB9XG5cblxuICBcblxufSIsIi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgVGhpcyBpcyBhIGJvaWxlcnBsYXRlIHRvIHVzZSBmb3IgdGFyZ2V0IGFjdGl2aXRpZXNcbi8vXG4vL1x0VVJMIGV4YW1wbGU6IGFkZCBpbiB1cmwgb2YgcHJvamVjdCBmb3IgdmlzaWJpbGl0eSBoZXJlXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2NyaXB0cywgaGVscGVyIHdpZGdldHMgLSBpbXBvcnQgYmVsb3dcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5pbXBvcnQgUG9wVXBDb250ZW50IGZyb20gXCIuL2NvbXBvbmVudHMvcG9wVXBDb250ZW50XCI7XG5cbnZhciBjaGVpbGxvbmRvbiA9IGNoZWlsbG9uZG9uIHx8IHt9O1xuXG5jaGVpbGxvbmRvbi50YXJnZXRCb2lsZXJwbGF0ZSA9IChmdW5jdGlvbiAoKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBtYWluID0ge1xuXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHQvLyBWYXJpYWJsZXMgYW5kIGNvbmZpZyBQcm9wZXJ0aWVzIGFkZCBiZWxvd1xuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cblxuXHRcdC8vSW5pdFxuXHRcdGluaXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdG1haW4uZG9FdmVyeXRoaW5nVGltZW91dCgpO1xuXHRcdH0sXG5cblxuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0Ly8gQ2hlY2tpbmcgalF1ZXJ5XG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRkb0V2ZXJ5dGhpbmdUaW1lb3V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgX3NlbGYgPSB0aGlzO1xuXG5cdFx0XHRjb25zb2xlLmxvZygnWFhYIC0gZG9FdmVyeXRoaW5nVGltZW91dCcpO1xuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0aWYgKHdpbmRvdy4kKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJ2RvRXZlcnl0aGluZ1RpbWVvdXQgLSBqUXVlcnkgbG9hZGVkJyk7XG5cdFx0XHRcdFx0bWFpbi5hcHBlbmROZXdTdHlsZSgpO1xuXHRcdFx0XHRcdG1haW4uYWRkUmVtb3ZlRWxlbWVudHMoKTtcblxuXG5cdFx0XHRcdFx0LyptYWluLnR3ZWFrRWxlbWVudHMoKTtcblxuXHRcdFx0XHRcdG1haW4uaW5zdXJlQnV0dG9ucygpO1xuXHRcdFx0XHRcdG1haW4uZnJlZUluc3VyYW5jZSgpOyovXG5cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnbm8ganF1ZXJ5Jylcblx0XHRcdFx0XHRfc2VsZi5kb0V2ZXJ5dGhpbmdUaW1lb3V0KCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIDkwMClcblx0XHR9LFxuXG5cblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdC8vIEFkZGluZyBzdHlsZVxuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0YXBwZW5kTmV3U3R5bGU6IGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0LyogRllJOiB0aGUgQ1NTIGNvZGUgaXMgaW4gc2VwYXJhdGVkIGZpbGUsIGluIFNDU1MgZm9ybWF0IHRoYXQgZ2VuZXJhdGVzIHRoZSBDU1MgZmlsZS4gQWZ0ZXIsIHRoZSBndWxwIGZpbGUgZmluZHMgdGhlIFtDU1NdIGFuZCByZXBsYWNlcyB3aXRoIG1pbmlmaWVkIGNvZGUgZnJvbSBmaWxlICovXG5cblx0XHRcdC8vVG8gaW5zZXJ0IG1pbmlmaWVkIGlubGluZSBzdHJpbmcgdW5jb21tZW50IHRoaXMgdmFyaWFibGUgYW5kIHBhc3RlIGhlcmVcblx0XHRcdC8vRWxzZSwgdXNlIGRlZmF1bHQgdW5jb21tZW50ZWQgdmFyaWFibGVcblx0XHRcdC8vIHZhciBfY3NzID0gJyc7XG5cblx0XHRcdHZhciBfY3NzID0gJ1tbQ1NTXV0nO1xuXG5cdFx0XHQvL1xuXHRcdFx0Ly8gQWRkaW5nIHN0eWxlIGRlZmluaXRpb25zIHRvIERPTVxuXHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRcdHZhciBfaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXSxcblx0XHRcdFx0X3N0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuXHRcdFx0X3N0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXHRcdFx0aWYgKF9zdHlsZS5zdHlsZVNoZWV0KSB7IC8vIFRoaXMgaXMgcmVxdWlyZWQgZm9yIElFOCBhbmQgYmVsb3cuXG5cdFx0XHRcdF9zdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBfY3NzO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0X3N0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKF9jc3MpKTtcblx0XHRcdH1cblx0XHRcdF9oZWFkLmFwcGVuZENoaWxkKF9zdHlsZSk7XG5cblx0XHR9LFxuXG5cblx0XHQvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXHRcdC8vIFdoZW4gcGFnZSBpcyBhbHJlYWR5IGxvYWRlZCB3ZSBuZWVkIHRvIGFkZCB0aGUgbmV3IGVsZW1lbnRzXG5cdFx0Ly8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblx0XHRhZGRSZW1vdmVFbGVtZW50czogZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRjb25zb2xlLmxvZygnWFhYIC0gYWRkUmVtb3ZlRWxlbWVudHMnKTtcblxuXG5cdFx0XHRjb25zdCBlbGlnaWJsZVNrdXMgPSBbXG5cblx0XHRcdFx0XCJTTS1HOTkwQkxWREVVQVwiLFxuXHRcdFx0XHRcIlNNLUc5OTBCTFZHRVVBXCIsXG5cdFx0XHRcdFwiU00tRzk5MEJaV0RFVUFcIixcblx0XHRcdFx0XCJTTS1HOTkwQlpBR0VVQVwiLFxuXHRcdFx0XHRcIlNNLUc5OTBCTEdHRVVBXCIsXG5cdFx0XHRcdFwiU00tRzk5MEJaV0dFVUFcIixcblxuXHRcdFx0XHRcIlNNLUE1MjhCTFZDRVVBXCIsXG5cdFx0XHRcdFwiU00tQTUyOEJaS0NFVUFcIixcblx0XHRcdFx0XCJTTS1BNTI4QlpXQ0VVQVwiLFxuXHRcdFx0XHRcIlNNLUE1MjhCTEdDRVVBXCIsXG5cblx0XHRcdFx0XCJTTS1BNTM2QlpLTkVVQlwiLFxuXHRcdFx0XHRcIlNNLUE1MzZCTEJORVVCXCIsXG5cdFx0XHRcdFwiU00tQTUzNkJaT05FVUJcIixcblxuXHRcdFx0XHRcIlNNLUEzMzZCTEJHRVVCXCIsXG5cdFx0XHRcdFwiU00tQTMzNkJaS0dFVUJcIixcblx0XHRcdFx0XCJTTS1BMzM2QlpXR0VVQlwiLFxuXHRcdFx0XHRcIlNNLUEzMzZCWk9HRVVCXCIsXG5cblx0XHRcdFx0XCJTTS1SODcwTlpLQUVVQVwiLFxuXHRcdFx0XHRcIlNNLVI4NzBOWkdBRVVBXCIsXG5cdFx0XHRcdFwiU00tUjg3ME5aU0FFVUFcIixcblxuXHRcdFx0XHRcIlNNLVI4OTBOWktBRVVBXCIsXG5cdFx0XHRcdFwiU00tUjg5ME5aU0FFVUFcIixcblx0XHRcdF07XG5cblxuXG5cdFx0XHQvKiogVGFrZSB0aGUgcHJvZHVjdCBwcmljZSBUb3RhbCBhbW91bnQgZnJvbSBDYXJ0ICoqL1xuXHRcdFx0bGV0IHByb2R1Y3RQcmljZSA9IHBhcnNlSW50KCQoJy5zdW1tYXJ5LXRvdGFsX19hbW91bnQnKS50ZXh0KCkudHJpbSgpLnJlcGxhY2UoL1xcdTAwQTMvZywgJycpKTtcblxuXG5cdFx0XHRsZXQgZmluYW5jZUNvbnRlbnQgPSAnJztcblxuXHRcdFx0LyoqIFNob3dpbmcgZGlmZmVyZW50IGZpbmFuY2UgZGV0YWlscyBmb3IgdGhlIHByb2R1Y3QgcHJpY2UgaW4gYmV0d2VlbiAxNTAgdG8gMjUwIGFuZCAgMjUwIGFuZCBhYm92ZSAqKi9cblx0XHRcdHN3aXRjaCAodHJ1ZSkge1xuXHRcdFx0XHRcdFx0XHRjYXNlIHByb2R1Y3RQcmljZSA+PSAxNTAgJiYgcHJvZHVjdFByaWNlIDw9IDI1MDpcblx0XHRcdFx0XHRcdFx0XHRmaW5hbmNlQ29udGVudCA9IGBcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0aXRsZVwiPkRpc2NvdmVyIGEgbmV3IHdheSB0byBwYXkgd2l0aCBTYW1zdW5nIEZpbmFuY2U8L2Rpdj5cblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0eHRcIj5TcHJlYWQgdGhlIGNvc3Qgb2YgeW91ciBvcmRlciBvdmVyIDEyIG1vbnRocyBhdCAwJSBBUFIgcmVwcmVzZW50YXRpdmUuKjwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdGA7XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0XHRcdFx0ZmluYW5jZUNvbnRlbnQgPSBgXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGl0bGVcIj5GbGV4aWJsZSB3YXlzIHRvIHBheSB3aXRoIFNhbXN1bmcgRmluYW5jZTwvZGl2PlxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInR4dFwiPlNwcmVhZCB0aGUgY29zdCBvZiB5b3VyIG9yZGVyIG92ZXIgMTIgdG8gMzYgbW9udGhzIGF0IDAlIEFQUiByZXByZXNlbnRhdGl2ZS4qPC9kaXY+XG5cdFx0XHRcdFx0XHRcdFx0YDtcblx0XHRcdH1cblxuXG5cblx0XHRcdGNvbnN0IGRlbGl2ZXJ5Q29udGVudD0gYFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZGVsaXZlcnktaW5mby13cmFwcFwiPlxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJkZWxpdmVyeS1pbmZvXCI+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidGl0bGVcIj5Zb3VyIG9yZGVyIHF1YWxpZmllcyBmb3I6PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5mby1saXN0XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0eHRcIj5OZXh0IGRheSBkZWxpdmVyeSAoPGEgaHJlZj1cIiNcIiBjbGFzcz1cImRlbGl2ZXktcG9wdXAtbGlua1wiPk1vcmUgaW5mbzwvYT4pIDwvZGl2PlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHJpY2VcIj5GUkVFPC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbmZvLWxpc3RcIj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInR4dFwiPlNjaGVkdWxlZCBkYXkgZGVsaXZlcnk8L2Rpdj5cblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInByaWNlXCI+RlJFRTwvZGl2PlxuXHRcdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5mby1saXN0XCI+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJ0eHRcIj4yMS1kYXkgcmV0dXJucyAoPGEgaHJlZj1cIiNcIiBjbGFzcz1cImRlbGl2ZXktcG9wdXAtbGlua1wiPk1vcmUgaW5mbzwvYT4pPC9kaXY+XG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwcmljZVwiPkZSRUU8L2Rpdj5cblx0XHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluZm8tbGlzdFwiPlxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwidHh0XCI+RnVydGhlciBkZWxpdmVyeSwgaW5zdGFsbGF0aW9uLCBhbmQgcmVjeWNsaW5nIG9wdGlvbnMgYXJlIGF2YWlsYWJsZSB3aGVuIHlvdSBjaGVjayBvdXQuPC9kaXY+XG5cdFx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0XHQ8L2Rpdj5cblxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmaW5hbmNlLWluZm9cIj5cblx0XHRcdFx0XHRcdCR7ZmluYW5jZUNvbnRlbnR9XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0YDtcblxuXHRcdFx0Ly8gUmVtb3ZlIGFscmVhZHkgYWRkZWQgZGVsaXZlcnkgZWxlbWVudHMgZmlyc3Rcblx0ICAgICAgICBtYWluLnJlbW92ZURlbGl2ZXJ5RWxlbWVudHMoKTtcblxuXG5cdFx0XHRsZXQgbm9PZkVsaWdpYmxlU2t1cyA9IDA7XG5cblx0XHRcdCQoXCIuY2FydC1pdGVtXCIpLmVhY2goZnVuY3Rpb24gKGluZGV4LCBlbGVtZW50KSB7XG5cblx0XHRcdFx0aWYgKGVsaWdpYmxlU2t1cy5maWx0ZXIoKHNrdSkgPT4gKGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJ0LWl0ZW1fX3NrdVwiKS5pbm5lclRleHQuaW5jbHVkZXMoc2t1KSkpLmxlbmd0aCkge1xuXHRcdFx0XHRcdC8vSWYgc2t1IG1hdGNoZXMgdGhlIGVsaWdpYmxlIFNrdSBsaXN0XG5cblx0XHRcdFx0XHRub09mRWxpZ2libGVTa3VzID0gbm9PZkVsaWdpYmxlU2t1cysxO1xuICAgICAgICAgICAgXHRcdHJldHVybiBmYWxzZTsgLy8gdG8gYnJlYWsgdGhlIGxvb3BcblxuICAgICAgICAgICAgXHR9XG5cblxuXHRcdFx0fSk7XG5cblxuXHRcdFx0aWYgKG5vT2ZFbGlnaWJsZVNrdXMgPiAwKSB7XG5cblx0XHRcdFx0LyoqIEVuc3VyZSB0aGF0IG5vIERlbGl2ZXJ5IGRldGFpbHMgZGl2IGFscmVhZHkgYWRkZWQgdG8gdGhlIGNhcnQgKiovXG5cdFx0XHRcdGlmICgkKCcjRGVsaXZlcnlEZXRhaWxzJykubGVuZ3RoID09IDApIHtcblx0XHRcdFx0XHRsZXQgZGVsaXZlcnlEZXRhaWxzID0gJChcIjxwIGlkPSdEZWxpdmVyeURldGFpbHMnPjwvcD5cIik7XG5cdFx0XHRcdFx0ZG9jdW1lbnQuYm9keS5jb250YWlucyhkZWxpdmVyeURldGFpbHNbMF0pIHx8ICQoIGRlbGl2ZXJ5RGV0YWlscyApLmluc2VydEFmdGVyKCBcImN4LWNhcnQtZGV0YWlsc1wiICksIGRlbGl2ZXJ5Q29udGVudCAmJiBkZWxpdmVyeURldGFpbHMuaHRtbChkZWxpdmVyeUNvbnRlbnQpO1xuXHRcdFx0XHRcdG1haW4uc2V0RXZlbnRzKCdkZWxpdmVyeVBvcHVwJyk7IC8vIE1vcmUgaW5mbyBsaW5rIGNsaWNrZWQgdG8gdmlldyBkZWxpdmVyeSBwb3B1cFxuXHRcdFx0XHRcdG1haW4uc2V0RXZlbnRzKCdpdGVtUmVtb3ZlZEZyb21DYXJ0Jyk7IC8vIElmIGEgSXRlbSByZW1vdmVkIGZyb20gY2FydFxuXHRcdFx0XHRcdG1haW4ucHJvY2Vzc1Rlcm1zRm9vdGVyKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXG5cdFx0XHQvKmVsc2Uge1xuXHRcdFx0XHQgKlJlbW92ZSBkZWxlaXZlcnkgZGV0YWlscyB3aGVuIHRoZXJlIGlzIG5vIGVsaWdpYmxlIHByb2R1Y3RzIGluIHRoZSBjYXJ0ICpcblx0XHRcdFx0JCgnI0RlbGl2ZXJ5RGV0YWlscycpLnJlbW92ZSgpO1xuXHRcdFx0XHQkKCcjVHJhZGVJbkNvbmRpdGlvbnMnKS5yZW1vdmUoKTtcblxuXHRcdFx0fSovXG5cblxuXHRcdFx0Ly90aGlzIHdpbGwgYWRkIGluIHRhZ2dpbmdcblx0XHRcdG1haW4uYWRkVGFnZ2luZygpO1xuXHRcdH0sXG5cblxuXHRcdHJlbW92ZURlbGl2ZXJ5RWxlbWVudHM6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHQkKCcjRGVsaXZlcnlEZXRhaWxzJykucmVtb3ZlKCk7XG5cdFx0XHQkKCcjVHJhZGVJbkNvbmRpdGlvbnMnKS5yZW1vdmUoKTtcblxuXHRcdH0sXG5cblxuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0Ly8gU2V0IEV2ZW50c1xuXHRcdC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cdFx0c2V0RXZlbnRzOiBmdW5jdGlvbiAoZWxtID0gJycpIHtcblxuXHRcdFx0Y29uc29sZS5sb2coJ1hYWCAtIHNldEV2ZW50czogJyArIGVsbSk7XG5cblx0XHRcdHN3aXRjaCAoZWxtKSB7XG5cdFx0XHRcdGNhc2UgJ2RlbGl2ZXJ5UG9wdXAnOlxuXHRcdFx0XHRcdC8vY29kZSB0byBvcGVuIGRlbGl2ZXJ5IHBvcHVwO1xuXHRcdFx0XHRcdCQoJy5kZWxpdmV5LXBvcHVwLWxpbmsnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRcdGNvbnN0IHBvcFVwQ29udGVudCA9IG5ldyBQb3BVcENvbnRlbnQoKTtcblx0XHRcdFx0XHRcdHBvcFVwQ29udGVudC5hZGRDb250ZW50KCk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSAnaXRlbVJlbW92ZWRGcm9tQ2FydCc6XG5cblx0XHRcdFx0XHQvKiQoJy5jYXJ0LWl0ZW1fX3JlbW92ZS0tYnRuJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdG1haW4uYWRkUmVtb3ZlRWxlbWVudHMoKTtcblx0XHRcdFx0XHR9KTsqL1xuXG5cdFx0XHRcdFx0LyoqIElmIHRoZSBjYXJ0IHRvdGFsIG9yZGVyIHZhbHVlIGNoYW5nZXMgYW5kIGFkZFJlbW92ZUVsZW1lbnRzIG1ldGhvZCBpcyBjYWxsZWQgdG8gdXBkYXRlIGRlbGl2ZXJ5IGRldGFpbHMqKi9cblx0XHRcdFx0XHQkKCcuc3VtbWFyeS10b3RhbF9fYW1vdW50Jykub24oJ0RPTVN1YnRyZWVNb2RpZmllZCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0ICBcdG1haW4uYWRkUmVtb3ZlRWxlbWVudHMoKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRicmVhaztcblxuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXG5cblxuXHRcdH0sXG5cblx0XHRyZXNpemVXaW5kb3c6IGZ1bmN0aW9uICgpIHtcblx0XHRcdC8vIGFzIG5ldyBlbGVtZW50cyBhZGRlZCB0byBwYW5lbCB3ZSBuZWVkIHRvIHJlc2l6ZSB3aW5kb3cgdG8gYWN0aXZhdGUgYW1lbmQgaGVpZ2h0IG9mIFByb2R1Y3QgUGFuZWxzXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0JCh3aW5kb3cpLnJlc2l6ZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZygnd2luZG93IHJlc2l6ZWQnKTtcblx0XHRcdH0sIDEwMCk7XG5cdFx0fSxcblxuXHRcdHByb2Nlc3NUZXJtc0Zvb3RlcjogZnVuY3Rpb24gKCkge1xuXHRcdFx0bGV0IHRlcm1zQ29udGVudCA9IGBcblx0XHRcdFx0PGRpdiBjbGFzcz1cInRpdGxlXCI+VGVybXMgYW5kIGNvbmRpdGlvbnM8L2Rpdj5cbiAgICBcdFx0XHQ8cCBjbGFzcz1cInR4dFwiPipBbGwgY3JlZGl0IGlzIHN1YmplY3QgdG8gc3RhdHVzIGFuZCBvbmx5IGF2YWlsYWJsZSB0byBVSyByZXNpZGVudHMgb3ZlciAxOCwgd2l0aCBhIFVLIEJhbmsgYWNjb3VudCBhbmQgdmFsaWQgZHJpdmVy4oCZcyBsaWNlbnNlLCBwYXNzcG9ydCwgb3IgaWRlbnRpdHkgY2FyZC4gQ3JlZGl0IGR1cmF0aW9uIGlzIHZhcmlhYmxlLCBhbmQgeW91IGNvdWxkIGJlIG9mZmVyZWQgY3JlZGl0IGF0IGEgaGlnaGVyIHJhdGUgdGhhbiB0aGUgcmVwcmVzZW50YXRpdmUgQVBSIHNldCBvdXQgYWJvdmUgYmFzZWQgb24geW91ciBwZXJzb25hbCBmaW5hbmNpYWwgY2lyY3Vtc3RhbmNlcyBhbmQgd2hhdCB5b3UgdGVsbCB1cy4gRm9yIHNtYWxsZXIgYmFza2V0cyBvZiBiZXR3ZWVuIMKjMTUwIGFuZCDCozI1MCBhIG1pbmltdW0gdXBmcm9udCBwYXltZW50IG9mIDIwJSBpcyByZXF1aXJlZCBhbmQgMTIgbW9udGhzIGZpeGVkIG1vbnRobHkgcGF5bWVudHMuIEZvciBsb2FucyBhYm92ZSDCozI1MCwgYSAxMCUgZGVwb3NpdCBpcyByZXF1aXJlZCBhbmQgdXAgdG8gMzYgbW9udGhzIG9mIGZpeGVkIG1vbnRobHkgcGF5bWVudHMuIEJ5IGFjY2VwdGluZyBvdXIgY3JlZGl0IHlvdSBjb25zZW50IHRvIGEgY3JlZGl0IGNoZWNrIGJlaW5nIGNvbXBsZXRlZCB3aGljaCB3aWxsIGFwcGVhciBvbiB5b3VyIGNyZWRpdCBmaWxlLjwvcD5cbiAgICBcdFx0XHQ8ZGl2IGNsYXNzPVwidGl0bGVcIj5TYW1zdW5nIEZpbmFuY2U8L2Rpdj5cbiAgICBcdFx0XHQ8cCBjbGFzcz1cInR4dFwiPlNhbXN1bmcgRWxlY3Ryb25pY3MgKFVLKSBMaW1pdGVkIChSZWdpc3RlcmVkIG5vOiAwMzA4NjYyMSksIHJlZ2lzdGVyZWQgYXQgU2Ftc3VuZyBIb3VzZSwgMjAwMCBIaWxsc3dvb2QgRHJpdmUsIENoZXJ0c2V5LCBTdXJyZXkgS1QxNiAwUlMsIFVuaXRlZCBLaW5nZG9tLCBhY3RzIGFzIGEgY3JlZGl0IGJyb2tlciBhbmQgbm90IGFzIGEgbGVuZGVyLiBTYW1zdW5nIGlzIGF1dGhvcmlzZWQgYW5kIHJlZ3VsYXRlZCBieSB0aGUgRmluYW5jaWFsIENvbmR1Y3QgQXV0aG9yaXR5IChGUk4gNzI3MzMzKS4gQ3JlZGl0IGlzIHByb3ZpZGVkIGJ5IEdsb3cgRmluYW5jaWFsIFNlcnZpY2VzIExpbWl0ZWQsIDcxIFF1ZWVuIFZpY3RvcmlhIFN0cmVldCwgTG9uZG9uIEVDNFYgNEJFLiBSZWdpc3RlcmVkIGluIEVuZ2xhbmQgTm8uIDA5MTI3NjYzLiBHbG93IEZpbmFuY2lhbCBTZXJ2aWNlcyBMaW1pdGVkIGlzIGF1dGhvcmlzZWQgYW5kIHJlZ3VsYXRlZCBieSB0aGUgRmluYW5jaWFsIENvbmR1Y3QgQXV0aG9yaXR5IChSZWZlcmVuY2UgTm8uIDc1MTMwOCkuIEdsb3cgRmluYW5jaWFsIFNlcnZpY2VzIGFjdGluZyBhcyBsZW5kZXIsIHVuZGVyIGJyYW5kIGxpY2Vuc2UgYXMgU2Ftc3VuZyBGaW5hbmNlIChwb3dlcmVkIGJ5IEdsb3cpIHRocm91Z2ggU2Ftc3VuZyBFbGVjdHJvbmljcyAoVUspIExpbWl0ZWQuIFRoZSBGaW5hbmNpYWwgU2VydmljZXMgUmVnaXN0ZXIgY2FuIGJlIGFjY2Vzc2VkIHRocm91Z2ggd3d3LmZjYS5vcmcudWs8L3A+XG5cdFx0XHRgO1xuXG5cdFx0XHRsZXQgVGVybXMgPSAkKFwiPGRpdiBpZD0nVHJhZGVJbkNvbmRpdGlvbnMnIGNsYXNzPSdkZWxpdmVyeS10ZXJtcyc+PC9kaXY+XCIpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5jb250YWlucyhUZXJtc1swXSkgfHwgJChcIi5UZXJtc0NvbmRpdGlvbnNTbG90Q29udGVudFwiKS5hcHBlbmQoVGVybXMpLCB0ZXJtc0NvbnRlbnQgJiYgVGVybXMuaHRtbCh0ZXJtc0NvbnRlbnQpO1xuXG5cdFx0fSxcblxuXHRcdGFkZFRhZ2dpbmcgOiBmdW5jdGlvbiAoKSB7XG5cblx0XHRmdW5jdGlvbiB0YWdnaW5nKGVsLCBhdHRycykge1xuICAgIGZvcihsZXQga2V5IGluIGF0dHJzKSB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcbiAgICB9XG4gIH1cblxuXHRcdGNvbnN0IG1vcmVJbmZvRWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVsaXZleS1wb3B1cC1saW5rJyk7XG5cblx0XHRtb3JlSW5mb0VsZW1lbnRzLmZvckVhY2goKG1vcmVJbmZvQnRucykgPT4ge1xuXG5cdFx0XHRcdHRhZ2dpbmcobW9yZUluZm9CdG5zLFxuXHRcdFx0eyBcImRhdGEtb21uaS10eXBlXCIgIDogXCJtaWNyb3NpdGVcIixcblx0XHRcdFx0XHRcImRhdGEtb21uaVwiICAgICAgIDogYHVrOnNpbXBsZSBidXlpbmcgdG9vbDp5b3VyIG9yZGVyIHF1YWxpZmllcyBmb3I6bW9yZSBpbmZvYCxcblx0XHRcdFx0XHRcImdhLWFjXCIgICAgICAgICAgIDogXCJvcmRlci1xdWFsaWZpZXMtaW5mb1wiLFxuXHRcdFx0XHRcdFwiZ2EtY2FcIiAgICAgICAgICAgOiBcIm1vcmUgaW5mb1wiLFxuXHRcdFx0XHRcdFwiZ2EtbGFcIiAgICAgICAgICAgOiBgeW91ciBvcmRlciBxdWFsaWZpZXMgZm9yOm1vcmUgaW5mb2Bcblx0XHRcdH0pXG5cdFx0fSlcblx0XHR9XG5cblxuXHR9O1xuXHRyZXR1cm4ge1xuXHRcdG1haW46IG1haW5cblx0fTtcblxufSkoKTtcblxuY2hlaWxsb25kb24udGFyZ2V0Qm9pbGVycGxhdGUubWFpbi5pbml0KCk7XG5cbiJdfQ=="}