(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var PopUpContent=function(){function e(){_classCallCheck(this,e)}return e.prototype.addContent=function(){var e=[];document.querySelectorAll(".cart-item__sku").forEach(function(n){return e.push(n.innerText)}),setTimeout(function(){var n=document.getElementById("modal-title"),t=document.querySelector(".modal__description"),o=document.querySelector(".modal__radio"),i=o.children[0].children.length,l=document.querySelector(".modal__terms"),r=document.querySelector(".modal__footer");o.insertAdjacentHTML("afterend",'\n            <div class="samsung__care__details">\n                <h2 class="modal__title">Samsung Care+ includes:</h2>\n                <ul>\n                  <li>Fast and convenient expert repairs using genuine Samsung parts</li>\n                  <li>if your device isn\'t running smoothly, we\'ll check and fix any issues</li>\n                  <li>Stay powered up with hassle-free battery replacements</li>\n                  <li>Up to four claims within 24 months, or two within 12 months</li>\n                  <li><a href="https://www.samsung.com/uk/offer/samsung-care-plus/">See all benefits here.</a> Key details of your policy can be found in the <a href="https://images.samsung.com/is/content/samsung/p5/uk/samsung-mobile-care-ipid.pdf">Insurance Proudct Infomation Document(IPID)</a></li>\n                </ul>\n                <div class="samsung__care__details__30days" style="'+(e.includes("SM-G991BZVGEUA")&&i>=3?"display: block":"display: none")+'">\n                  <h2 class="modal__title">Try Samsung Care+ free for 30 days</h2>\n                  <p class="hubble-product__options-content-text">Does not renew automatically. Cover terminates after 30 days unless renewed at samsungcareplus.com.\n                  Service fee per claim still applies. View the Insurance Product Information Pack(IPID) for full policy details.\n                  </p>\n                </div>\n              </div>\n            '),r.insertAdjacentElement("afterend",l);var a=document.querySelector(".modal__footer.modal__buttons--inline > button.button.pill-btn.pill-btn--white.reset"),s=document.querySelector(".modal__footer.modal__buttons--inline > button.button.primary.pill-btn.pill-btn--black.view-more");n.innerText="Protext your Galaxy with Samsung Care+",t.innerText="Up to 24 months of worldwide accidental damage insurance for complete peace of mind",document.querySelectorAll(".option-box__label").forEach(function(e){var n=e.firstChild.innerText;"1 year coverage"===n?e.lastElementChild.innerText="12-month policy":"2 year coverage"===n?e.lastElementChild.innerText="24-month policy":n.includes("Free")&&(e.innerHTML='<div class="option-box__name">One Month Free (Does not renew)</div><div class="option-box__code">One month policy</div>',e.lastElementChild.innerText="One month policy")}),document.querySelectorAll(".option-box__price").forEach(function(e){var n=parseInt(e.innerText.slice(1));if(e.style.textAlign="right",e.previousElementSibling.innerText.includes("1 year coverage")){var t=document.createElement("p"),o=n/12;t.innerText="(equilvalent to £"+o.toFixed(2)+" a month)",e.insertAdjacentElement("beforeend",t)}else if(e.previousElementSibling.innerText.includes("2 year coverage")){var i=document.createElement("p"),l=n/24;i.innerText="(equilvalent to £"+l.toFixed(2)+" a month)",e.insertAdjacentElement("beforeend",i)}}),document.querySelectorAll(".mat-radio-label").forEach(function(e){e.innerText.includes("2 year coverage")&&e.click()}),a.innerText="No Thanks",s.innerText="Add to order"},1500)},e}();exports.default=PopUpContent;

},{}],2:[function(require,module,exports){
"use strict";var _popUpContent=require("./components/popUpContent"),_popUpContent2=_interopRequireDefault(_popUpContent);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var cheillondon=cheillondon||{};cheillondon.targetBoilerplate=function(){var e={init:function(){e.doEverythingTimeout()},doEverythingTimeout:function(){var n=this;console.log("XXX - doEverythingTimeout"),setTimeout(function(){window.$?(console.log("doEverythingTimeout - jQuery loaded"),e.appendNewStyle(),e.tweakElements(),e.addElements(),e.insureButtons(),e.freeInsurance()):(console.log("no jquery"),n.doEverythingTimeout())},900)},appendNewStyle:function(){var e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=".samsung__care__details a{text-decoration:underline;color:#006bea}.samsung__care__details ul{padding-left:20px}.modal__header{padding-bottom:0px}.modal__title{font-size:18px}.modal__terms{margin-bottom:0px;margin-top:30px}.modal__buttons--inline{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;width:50%}@media only screen and (max-width: 500px){.modal__buttons--inline{width:100%}}.modal__buttons--inline .modal__buttons--inline button:first-child{-webkit-margin-end:0px;margin-inline-end:0px}.modal__buttons--inline .modal__buttons--inline button{margin:0px 10px 0px 0px}.pill-btn--white{color:#1f78ec;background:white;border:1px solid #fff;text-decoration:underline}.pill-btn--black{background:#006bea}.pill-btn--black:hover{background:#006bea}.pill-btn--white:hover{color:#000}.tradein__learnmore{color:#006ff2;margin-top:5px;text-decoration:underline;cursor:pointer;font-family:SamsungOne700, Arial, Helvetica, sans-serif;font-size:14px;font-weight:700}.warning__policy{color:red;font-weight:bold;font-family:SamsungOne700, Arial, Helvetica, sans-serif}":n.appendChild(document.createTextNode(".samsung__care__details a{text-decoration:underline;color:#006bea}.samsung__care__details ul{padding-left:20px}.modal__header{padding-bottom:0px}.modal__title{font-size:18px}.modal__terms{margin-bottom:0px;margin-top:30px}.modal__buttons--inline{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;width:50%}@media only screen and (max-width: 500px){.modal__buttons--inline{width:100%}}.modal__buttons--inline .modal__buttons--inline button:first-child{-webkit-margin-end:0px;margin-inline-end:0px}.modal__buttons--inline .modal__buttons--inline button{margin:0px 10px 0px 0px}.pill-btn--white{color:#1f78ec;background:white;border:1px solid #fff;text-decoration:underline}.pill-btn--black{background:#006bea}.pill-btn--black:hover{background:#006bea}.pill-btn--white:hover{color:#000}.tradein__learnmore{color:#006ff2;margin-top:5px;text-decoration:underline;cursor:pointer;font-family:SamsungOne700, Arial, Helvetica, sans-serif;font-size:14px;font-weight:700}.warning__policy{color:red;font-weight:bold;font-family:SamsungOne700, Arial, Helvetica, sans-serif}")),e.appendChild(n)},tweakElements:function(){var n=["S21","S21+","S21 Ultra","Note 20","Note20","A72","A52 5G","Tab S7","Z Flip3 5G"],t=new Intl.NumberFormat("en-UK",{style:"currency",currency:"GBP"});$(".cart-item").each(function(e,i){if(n.filter(function(e){return i.querySelector(".cart-item__name").innerText.includes(e)})&&$(i).find(".service-item:contains(Insurance)").length>0){var r;n.forEach(function(e){i.querySelector(".cart-item__name").innerText.includes(e)&&(r=e)});var o=$(i).find(".service-item:contains(Insurance)"),c=o.find(".service-item__details"),a=$("<p class='tradein__learnmore'>Learn More</p>");new Array(c[0].children);if(!o.find(".action-text.action-text--mobile.ng-star-inserted").text().includes("-£")){var d;switch(1,c.children()[0].innerText="Add Samsung Care+",r){case"S21+":case"S21 Ultra":case"S21":d="Up to 24 months of worldwide accidental damage insurance for complete peace of mind.";break;case"Note 20":case"Note20":d="Up to 24 months of worldwide accidental damage insurance for complete peace of mind.";break;case"A72":case"A52 5G":case"Tab S7":case"Z Flip3 5G":d="Up to 24 months of worldwide accidental damage insurance for complete peace of mind.";break;default:d="Trade In product","",console.error("Product outside expected product range.")}null===i.querySelector(".service-item__insurance-copy")?c.children().children().hide():c.children().children().show(),c.children()[1].insertAdjacentHTML("afterend",'<div class="service-item__insurance-copy"><p>'+d+"</p></div>"),c.append(a);var s=new _popUpContent2.default;a.on("click",function(){o.find(".action-button.ng-star-inserted").click(),s.addContent()}),o.find(".action-text.action-text--blue").text("Add Insurance");var l=$(i).find(".price__current")[0],u=window.MutationObserver||window.WebKitMutationObserver;new u(function(e){var n=i.getAttribute("data-modelprice"),r=Number(l.innerText.replace(/[^0-9.-]+/g,""));n==r||isNaN(r)?(a.show(),$(i).find(".price__current > div").length>0&&$(i).find(".price__current > div").remove(),o.find(".action-text.action-text--blue").text("Add Insurance")):(a.hide(),$(i).find(".price__current").append('<div class="tradein__oldprice">'+t.format(n)+"</div>"))}).observe(l,{childList:!1,characterData:!0,attributes:!0,subtree:!0}),new u(function(){o.find(".service-item__applied-message.ng-star-inserted:contains(been successfully applied)").text(o)}).observe(o[0],{childList:!0,characterData:!0,attributes:!0,subtree:!0}),new u(function(){console.log("observations here"),c.children()[1].nextSibling.style.display="none",a.hide(),c.children()[1].innerText.includes("Add Samsung Care+")&&(console.log("we have now entered here"),c.children()[1].nextSibling.style.display="block",a.show(),c.children()[1].childNodes[0].style.color="white",c.children()[1].childNodes[0].style.height="0px",o.find(".action-text.action-text--blue").text("Add Insurance"))}).observe(c.children()[1],{attributes:!0,childList:!0,subtree:!0})}}}),e.processTermsFooter([])},insureButtons:function(){var e=document.querySelectorAll(".action-text"),n=new _popUpContent2.default;e.forEach(function(e){e.innerText.includes("Add Insurance")&&(e.onclick=function(){n.addContent()})})},freeInsurance:function(){document.querySelectorAll(".cart-item__name").forEach(function(e){if(e.innerText.includes("Galaxy S21 5G")){e.parentElement.parentElement.parentElement.children[6].querySelector(".service-item__insurance-copy").insertAdjacentHTML("afterbegin",'<p class="warning__policy">Try Samsung Care+ free for 30 days (does not renew)</p>')}})},addElements:function(){console.log("XXX - addElements")},setEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";console.log("XXX - setEvents: "+e)},resizeWindow:function(){setTimeout(function(){$(window).resize(),console.log("window resized")},100)},processTermsFooter:function(e){var n=$("<p id='TradeInConditions'></p>");document.body.contains(n[0])||$(".TermsConditionsSlotContent").append(n),e&&n.html(e.join("<br/>"))},Terms:$("<p id='TradeInConditions'></p>")};return{main:e}}(),cheillondon.targetBoilerplate.main.init();

},{"./components/popUpContent":1}]},{},[2])

//# sourceMappingURL=main.js.map
